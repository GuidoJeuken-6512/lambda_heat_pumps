{"config":{"lang":["en","de"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Lambda Heat Pumps Integration","text":"<p>Willkommen zur Dokumentation (Deutsch, Standardsprache).</p> <p>Siehe die Abschnitte unten f\u00fcr Benutzer- und Entwicklerdokumentation.</p>"},{"location":"#schnellstart","title":"Schnellstart","text":"<p>Kurzanleitung folgt. F\u00fcr Details siehe die Unterseiten.</p>"},{"location":"changelog/","title":"Changelog","text":"<p>\u00c4nderungsprotokoll (Deutsch placeholder).</p>"},{"location":"troubleshooting/","title":"Troubleshooting","text":"<p>Hilfe und Fehlerbehebung (Deutsch placeholder).</p>"},{"location":"de/changelog/","title":"\u00c4nderungsprotokoll","text":""},{"location":"de/changelog/#new-features-seit-dem-letzten-release","title":"New Features seit dem letzten Release","text":"<ul> <li>Ger\u00e4te-Hierarchie: Aufteilung in Haupt- und Sub-Ger\u00e4te f\u00fcr bessere Organisation und klarere Entity-Struktur</li> <li>Mehrsprachige Unterst\u00fctzung: Umfassende \u00dcbersetzungen in Deutsch und Englisch f\u00fcr alle Entity-Namen</li> <li>Heizkurven-Berechnung: Intelligente Heizkurven-Berechnung mit drei St\u00fctzpunkten (Kalt, Mittel, Warm) und automatischer Vorlauftemperatur-Berechnung</li> <li>Kompressor-Start Cycling Sensor: Neuer Cycling-Sensor zur Verfolgung von Kompressor-Start-Ereignissen mit total, daily, 2h, 4h und monthly Varianten</li> <li>Vorlauf-Offset Number Entity: Bidirektionale Modbus-synchronisierte Number-Entity zur einfachen Anpassung der Vorlauf-Offset-Temperatur (-10\u00b0C bis +10\u00b0C)</li> </ul>"},{"location":"de/changelog/#201-2025-01-xx","title":"[2.0.1] - 2025-01-XX","text":""},{"location":"de/changelog/#neue-funktionen","title":"Neue Funktionen","text":"<ul> <li>Vorlauf-Offset Number Entity: Hinzugef\u00fcgte bidirektionale Modbus-synchronisierte Number-Entity zur Anpassung der Vorlauf-Offset-Temperatur</li> <li>Wird automatisch f\u00fcr jeden Heizkreis (HC1, HC2, etc.) erstellt</li> <li>Bereich: -10.0\u00b0C bis +10.0\u00b0C mit 0.1\u00b0C Schrittweite</li> <li>Liest aktuellen Wert aus Modbus-Register und schreibt \u00c4nderungen direkt zur\u00fcck</li> <li>Erscheint in der Ger\u00e4te-Konfiguration neben den Heizkurven-St\u00fctzpunkten</li> <li>Modbus-Register: Register 50 (relativ zur Base-Adresse des Heizkreises)</li> </ul>"},{"location":"de/changelog/#behoben","title":"Behoben","text":"<ul> <li>Heizkurven-Validierung: Validierungslogik korrigiert, um beide Bedingungen unabh\u00e4ngig zu pr\u00fcfen</li> <li><code>elif</code> zu <code>if</code> ge\u00e4ndert, um sicherzustellen, dass beide Validierungspr\u00fcfungen durchgef\u00fchrt werden</li> <li>Meldet jetzt alle Validierungsprobleme, wenn mehrere Heizkurven-Werte falsch konfiguriert sind</li> <li>Zuvor wurde nur das erste Problem gemeldet, wenn alle drei Temperaturpunkte in falscher Reihenfolge waren</li> <li>Warmwasser-Temperaturgrenzen: Minimum/Maximum-Werte f\u00fcr Warmwasser auf Lambda-Standard (25/65\u00b0C) angepasst</li> </ul>"},{"location":"de/changelog/#geandert","title":"Ge\u00e4ndert","text":"<ul> <li>Git-Konfiguration: <code>automations.yaml</code> aus gitignore entfernt, um zu verhindern, dass sie in git getrackt wird</li> </ul>"},{"location":"de/changelog/#200-2025-01-xx","title":"[2.0.0] - 2025-01-XX","text":""},{"location":"de/changelog/#neue-funktionen_1","title":"Neue Funktionen","text":"<ul> <li>Ger\u00e4te-Hierarchie: Implementierte Aufteilung in Haupt- und Sub-Ger\u00e4te f\u00fcr bessere Organisation und klarere Entity-Struktur</li> <li>Mehrsprachige Unterst\u00fctzung: Hinzugef\u00fcgte umfassende \u00dcbersetzungen in Deutsch und Englisch f\u00fcr alle Entity-Namen, gew\u00e4hrleistet ordnungsgem\u00e4\u00dfe Lokalisierungsunterst\u00fctzung</li> <li>Heizkurven-Berechnung: Implementierte intelligente Heizkurven-Berechnung mit drei St\u00fctzpunkten (Kalt, Mittel, Warm) und automatischer Vorlauftemperatur-Berechnung basierend auf Au\u00dfentemperatur</li> <li>Kalter Punkt: Definiert die Heizkurve bei niedrigen Au\u00dfentemperaturen</li> <li>Mittlerer Punkt: Definiert die Heizkurve bei mittleren Au\u00dfentemperaturen</li> <li>Warmer Punkt: Definiert die Heizkurve bei hohen Au\u00dfentemperaturen</li> <li>Neuer Sensor: <code>heating_curve_flow_line_temperature_calc</code> berechnet automatisch die optimale Vorlauftemperatur basierend auf aktueller Au\u00dfentemperatur und den konfigurierten St\u00fctzpunkten</li> <li>Kompressor-Start Cycling Sensor: Hinzugef\u00fcgter neuer Cycling-Sensor zur Verfolgung von Kompressor-Start-Ereignissen</li> <li>Total-Sensor: <code>compressor_start_cycling_total</code> - Verfolgt Gesamtanzahl der Kompressor-Starts seit Installation</li> <li>Daily-Sensor: <code>compressor_start_cycling_daily</code> - Verfolgt t\u00e4gliche Kompressor-Starts (Reset um Mitternacht)</li> <li>2H-Sensor: <code>compressor_start_cycling_2h</code> - Verfolgt 2-Stunden Kompressor-Starts (Reset alle 2 Stunden)</li> <li>4H-Sensor: <code>compressor_start_cycling_4h</code> - Verfolgt 4-Stunden Kompressor-Starts (Reset alle 4 Stunden)</li> <li>Monthly-Sensor: <code>compressor_start_cycling_monthly</code> - Verfolgt monatliche Kompressor-Starts (Reset am 1. des Monats)</li> <li>Flankenerkennung: Verwendet HP_STATE Register (1002) statt HP_OPERATING_STATE, erkennt \"START COMPRESSOR\" Status (Wert 5)</li> </ul>"},{"location":"de/changelog/#verbesserungen","title":"Verbesserungen","text":"<ul> <li>Verbesserte Entity-Namensgebung mit ordnungsgem\u00e4\u00dfen Ger\u00e4te- und Sub-Ger\u00e4te-Pr\u00e4fixen</li> <li>Verbesserte \u00dcbersetzungs-Ladung und -Anwendung f\u00fcr alle Entity-Typen</li> <li>Bessere Integration mit Home Assistants \u00dcbersetzungssystem</li> <li>Write-Interval-Optimierung: Reduziertes Write-Interval von 41 Sekunden auf 9 Sekunden f\u00fcr schnellere Reaktionszeiten</li> <li>Externe Verbrauchssensor-Validierung: Verbesserte Validierung externer Verbrauchssensoren mit Entity Registry Fallback-Pr\u00fcfung, erm\u00f6glicht Sensoren auch dann zu akzeptieren, wenn sie beim Start noch nicht im State verf\u00fcgbar sind. Runtime Retry-Mechanismus behandelt tempor\u00e4re Nicht-Verf\u00fcgbarkeit elegant.</li> </ul>"},{"location":"de/changelog/#143-2025-11-04","title":"[1.4.3] - 2025-11-04","text":""},{"location":"de/changelog/#fehlerbehebungen","title":"Fehlerbehebungen","text":"<ul> <li>ISSUE 39  Modebus batch Reads erkennen Fehler falsch: Schnelleres Umsschalten zu individual reads, damit korrekte Sensoren wieder zur Verf\u00fcgung stehen</li> <li>ISSUE 22 Zus\u00e4tzliches logging eingef\u00fcgt, um Fehler zu identifizieren</li> <li>Einheit des Sensors volume_flow_heat_sink korregiert zu l/h</li> </ul>"},{"location":"de/changelog/#142-2025-10-24","title":"[1.4.2] - 2025-10-24","text":""},{"location":"de/changelog/#fehlerbehebungen_1","title":"Fehlerbehebungen","text":"<ul> <li>Test-Reparaturen: Behoben fehlgeschlagene Tests durch Ersetzen von Mock-Objekten mit ordnungsgem\u00e4\u00dfen Test-Implementierungen</li> <li>Verbesserte Test-Zuverl\u00e4ssigkeit: Reduzierte false-positive Test-Fehler und verbesserte Test-Stabilit\u00e4t</li> <li>Integration-Reload-Fehler: Behoben Fehler beim Neuladen der Integration</li> <li>Konfigurations-Fix: Behoben <code>default_config</code> in <code>load_lambda_config()</code> um alle erforderlichen Keys einzubinden (<code>energy_consumption_sensors</code>, <code>energy_consumption_offsets</code>, <code>modbus</code>)</li> </ul>"},{"location":"de/changelog/#geandert_1","title":"Ge\u00e4ndert","text":"<ul> <li>Register-Order-Werte: Konfigurationswerte von <code>\"big\"</code>/<code>\"little\"</code> auf <code>\"high_first\"</code>/<code>\"low_first\"</code> ge\u00e4ndert f\u00fcr bessere Klarheit</li> <li>Alte Werte (<code>big</code>/<code>little</code>) werden weiterhin mit automatischer Konvertierung unterst\u00fctzt</li> <li>Neuer Standard ist <code>\"high_first\"</code> (ersetzt <code>\"big\"</code>)</li> <li>Verbesserte Dokumentation und Kommentare zur Kl\u00e4rung von Register-Reihenfolge vs. Byte-Endianness</li> </ul>"},{"location":"de/changelog/#verbesserungen_1","title":"Verbesserungen","text":"<ul> <li>Test-Optimierung: 57 Tests erfolgreich repariert und optimiert</li> <li>Gitignore-Korrektur: Korrigiert .gitignore f\u00fcr ordnungsgem\u00e4\u00dfe Einbindung aller docs-Unterverzeichnisse</li> <li>Service-Dokumentation: Erstellt umfassende Dokumentation f\u00fcr zuk\u00fcnftige Service-Optimierungen</li> <li>Service-Scheduler-Optimierung: Implementierte intelligente Service-Scheduler, die nur aktiviert werden, wenn PV-Surplus oder Raumthermostat-Steuerungsoptionen aktiviert sind, wodurch der Ressourcenverbrauch erheblich reduziert wird, wenn Services nicht ben\u00f6tigt werden</li> </ul>"},{"location":"developer/architecture/","title":"Architektur","text":"<p>Systemarchitektur (Deutsch placeholder).</p>"},{"location":"developer/contributing/","title":"Contributing","text":"<p>Wie man beitr\u00e4gt (Deutsch placeholder).</p>"},{"location":"developer/entity-creation/","title":"Entity Creation","text":"<p>Wie Entities erstellt werden (Deutsch placeholder).</p>"},{"location":"developer/migration-system/","title":"Migration System","text":"<p>Beschreibung des Migrationssystems (Deutsch placeholder).</p>"},{"location":"developer/modbus-registers/","title":"Modbus Registers","text":"<p>Modbus Register Dokumentation (Deutsch placeholder).</p>"},{"location":"en/","title":"Lambda Heat Pumps Integration","text":"<p>Welcome to the documentation (English).</p> <p>This is the English version of the user and developer documentation.</p>"},{"location":"en/changelog/","title":"Changelog","text":""},{"location":"en/changelog/#english-version","title":"English Version","text":""},{"location":"en/changelog/#new-features-since-last-release","title":"New Features since last release","text":"<ul> <li>Device Hierarchy: Separation into main devices and sub-devices for better organization and clearer entity structure</li> <li>Multilingual Support: Comprehensive translations in German and English for all entity names</li> <li>Heating Curve Calculation: Intelligent heating curve calculation with three support points (cold, mid, warm) and automatic flow temperature calculation</li> <li>Compressor Start Cycling Sensor: New cycling sensor for tracking compressor start events with total, daily, 2h, 4h, and monthly variants</li> <li>Flow Line Offset Number Entity: Bidirectional Modbus-synchronized Number entity for easy adjustment of flow line offset temperature (-10\u00b0C to +10\u00b0C)</li> </ul>"},{"location":"en/changelog/#201-2025-01-xx","title":"[2.0.1] - 2025-01-XX","text":""},{"location":"en/changelog/#new-features","title":"New Features","text":"<ul> <li>Flow Line Offset Number Entity: Added bidirectional Modbus-synchronized Number entity for flow line offset temperature adjustment</li> <li>Automatically created for each heating circuit (HC1, HC2, etc.)</li> <li>Range: -10.0\u00b0C to +10.0\u00b0C with 0.1\u00b0C step size</li> <li>Reads current value from Modbus register and writes changes directly back</li> <li>Appears in device configuration alongside heating curve support points</li> <li>Modbus Register: Register 50 (relative to heating circuit base address)</li> </ul>"},{"location":"en/changelog/#fixed","title":"Fixed","text":"<ul> <li>Heating Curve Validation: Fixed validation logic to check both conditions independently</li> <li>Changed <code>elif</code> to <code>if</code> to ensure both validation checks are performed</li> <li>Now reports all validation problems when multiple heating curve values are misconfigured</li> <li>Previously only the first issue was reported when all three temperature points were in wrong order</li> <li>Hot Water Temperature Limits: Adjusted minimum/maximum values for hot water to Lambda standard (25/65\u00b0C)</li> </ul>"},{"location":"en/changelog/#changed","title":"Changed","text":"<ul> <li>Git Configuration: Removed <code>automations.yaml</code> from gitignore to prevent it from being tracked in git</li> </ul>"},{"location":"en/changelog/#200-2025-01-xx","title":"[2.0.0] - 2025-01-XX","text":""},{"location":"en/changelog/#new-features_1","title":"New Features","text":"<ul> <li>Device Hierarchy: Implemented separation into main devices and sub-devices for better organization and clearer entity structure</li> <li>Multilingual Support: Added comprehensive translations in German and English for all entity names, ensuring proper localization support</li> <li>Heating Curve Calculation: Implemented intelligent heating curve calculation with three support points (cold, mid, warm) and automatic flow temperature calculation based on outside temperature</li> <li>Cold Point: Defines the heating curve at low outside temperatures</li> <li>Mid Point: Defines the heating curve at medium outside temperatures</li> <li>Warm Point: Defines the heating curve at high outside temperatures</li> <li>New Sensor: <code>heating_curve_flow_line_temperature_calc</code> automatically calculates the optimal flow temperature based on current outside temperature and the configured support points</li> <li>Compressor Start Cycling Sensor: Added new cycling sensor for tracking compressor start events</li> <li>Total Sensor: <code>compressor_start_cycling_total</code> - Tracks total compressor starts since installation</li> <li>Daily Sensor: <code>compressor_start_cycling_daily</code> - Tracks daily compressor starts (resets at midnight)</li> <li>2H Sensor: <code>compressor_start_cycling_2h</code> - Tracks 2-hour compressor starts (resets every 2 hours)</li> <li>4H Sensor: <code>compressor_start_cycling_4h</code> - Tracks 4-hour compressor starts (resets every 4 hours)</li> <li>Monthly Sensor: <code>compressor_start_cycling_monthly</code> - Tracks monthly compressor starts (resets on 1st of month)</li> <li>Flank Detection: Uses HP_STATE register (1002) instead of HP_OPERATING_STATE, detecting \"START COMPRESSOR\" state (value 5)</li> </ul>"},{"location":"en/changelog/#improvements","title":"Improvements","text":"<ul> <li>Enhanced entity naming with proper device and sub-device prefixes</li> <li>Improved translation loading and application for all entity types</li> <li>Better integration with Home Assistant's translation system</li> <li>Write Interval Optimization: Reduced write interval from 41 seconds to 9 seconds for faster response times</li> <li>External Energy Sensor Validation: Enhanced validation of external energy consumption sensors with Entity Registry fallback check, allowing sensors to be accepted even when not yet available in state during startup. Runtime retry mechanism handles temporary unavailability gracefully.</li> </ul>"},{"location":"en/changelog/#143-2025-11-04","title":"[1.4.3] - 2025-11-04","text":""},{"location":"en/changelog/#fixed_1","title":"Fixed","text":"<ul> <li>ISSUE 39 Modbus batch reads incorrectly detect errors: Faster switching to individual reads so that correct sensors become available again</li> <li>ISSUE 22 Additional logging added to identify errors</li> <li>Unit of sensor volume_flow_heat_sink corrected to l/h</li> </ul>"},{"location":"en/changelog/#142-2025-10-24","title":"[1.4.2] - 2025-10-24","text":""},{"location":"en/changelog/#fixed_2","title":"Fixed","text":"<ul> <li>Fixed failing tests by replacing Mock objects with proper test implementations</li> <li>Improved test reliability and reduced false failures</li> <li>Fixed integration reload errors</li> <li>Fixed <code>default_config</code> in <code>load_lambda_config()</code> to include all required keys (<code>energy_consumption_sensors</code>, <code>energy_consumption_offsets</code>, <code>modbus</code>)</li> </ul>"},{"location":"en/changelog/#changed_1","title":"Changed","text":"<ul> <li>Register Order Values: Changed configuration values from <code>\"big\"</code>/<code>\"little\"</code> to <code>\"high_first\"</code>/<code>\"low_first\"</code> for better clarity</li> <li>Old values (<code>big</code>/<code>little</code>) are still supported with automatic conversion</li> <li>New default is <code>\"high_first\"</code> (replaces <code>\"big\"</code>)</li> <li>Improved documentation and comments to clarify register order vs. byte endianness</li> </ul>"},{"location":"en/changelog/#improvements_1","title":"Improvements","text":"<ul> <li>Test optimization: 57 tests successfully repaired and optimized</li> <li>Gitignore correction: Fixed .gitignore for proper inclusion of all docs subdirectories</li> <li>Service documentation: Created comprehensive documentation for future service optimizations</li> <li>Service Scheduler Optimization: Implemented intelligent service scheduler that only activates when PV-Surplus or Room Thermostat control options are enabled, significantly reducing resource usage when services are not needed</li> </ul>"},{"location":"en/changelog/#141-2025-10-21","title":"[1.4.1] - 2025-10-21","text":""},{"location":"en/changelog/#new-features_2","title":"New Features","text":"<ul> <li>Massive Performance Improvements: Dramatically improved integration startup and update performance</li> <li>Startup Time: Reduced by ~72% (from ~7.3s to ~2.05s) through intelligent background auto-detection</li> <li>Update Cycles: Reduced by ~50% (from &gt;30s to &lt;15s) through global register deduplication</li> <li>Modbus Traffic: Reduced by ~80% through elimination of duplicate register reads</li> <li>Intelligent Auto-Detection: Implemented background auto-detection for existing configurations, eliminating startup delays while maintaining hardware change detection</li> <li>Global Register Cache: Added comprehensive register deduplication system that eliminates duplicate Modbus reads across all modules (HP, Boiler, Buffer, Solar, HC)</li> <li>Optimized Batch Reading: Improved Modbus batch reading with larger consecutive register ranges and reduced individual read thresholds</li> <li>Parallel Template Setup: Template sensors now load in background tasks, preventing startup blocking</li> <li>Persist I/O Optimization: Added debouncing and dirty-flag mechanisms to reduce unnecessary file writes</li> <li>Connection Health Optimization: Reduced connection timeout from 5s to 2s for faster failure detection</li> </ul>"},{"location":"en/changelog/#improvements_2","title":"Improvements","text":"<ul> <li>Enhanced Energy Tracking: Improved energy consumption tracking with automatic unit conversion (Wh/kWh/MWh)</li> <li>Robust Sensor Handling: Added retry mechanism for sensor availability during startup</li> <li>Comprehensive Logging: Added detailed logging for sensor change detection and energy calculations</li> <li>Monthly &amp; Yearly Power Consumption Sensors: Added monthly and yearly energy consumption sensors for long-term tracking</li> <li>Service Setup Optimization: Services are now set up only once, regardless of the number of entries</li> <li>Configuration Flow Improvements: Enhanced validation for existing connections and IP addresses, removed obsolete modules</li> <li>Generalized Reset Functions: Implemented generalized reset functions for all sensor types with extended tests</li> <li>Code Cleanup: Cleaned up const.py, YAML templates, and general code structure</li> <li>Documentation Updates: Updated documentation and created program flow diagrams</li> </ul>"},{"location":"en/changelog/#technical-changes","title":"Technical Changes","text":"<ul> <li>Automatic <code>lambda_wp_config.yaml</code> creation from <code>LAMBDA_WP_CONFIG_TEMPLATE</code></li> <li>Integration of config file creation into existing migration pipeline</li> <li>Enhanced error handling in <code>LambdaDataUpdateCoordinator</code></li> <li>Improved sensor attribute loading with better error recovery</li> </ul>"},{"location":"en/changelog/#140-2025-10-05","title":"[1.4.0] - 2025-10-05","text":""},{"location":"en/changelog/#new-features_3","title":"New Features","text":"<ul> <li>Energy Consumption Sensors by Operating Mode: Added configurable energy consumption sensors that track energy usage by operating mode (heating, hot water, cooling, defrost) with customizable source sensors (Issue #21)</li> <li>Register Order Configuration: Added register order configuration in <code>lambda_wp_config.yaml</code> for proper 32-bit value interpretation from multiple 16-bit registers (Issue #22)</li> <li>Sensor Change Detection: Implemented automatic detection of energy sensor changes with intelligent handling of sensor value transitions to prevent incorrect energy consumption calculations</li> </ul>"},{"location":"en/changelog/#bug-fixes","title":"Bug Fixes","text":"<ul> <li>Register Order Fix: Fixed register order issues for 32-bit values with initial quick fix approach (Issue #22)</li> <li>Daily Sensor Reset Automation: Fixed errors in automation for resetting daily sensors (Issue #29)</li> <li>Auto-Detection: Fixed auto-detection not recognizing existing configurations (IP/Port/SlaveId)</li> <li>DCHP Discovery: Fixed DCHP discovery error messages</li> <li>HASS Validation: Fixed Home Assistant validation errors</li> <li>Daily Reset Function: Repaired daily reset function for sensors</li> </ul>"},{"location":"en/changelog/#improvements_3","title":"Improvements","text":"<ul> <li>Enhanced Energy Tracking: Improved energy consumption tracking with automatic unit conversion (Wh/kWh/MWh)</li> <li>Robust Sensor Handling: Added retry mechanism for sensor availability during startup</li> <li>Comprehensive Logging: Added detailed logging for sensor change detection and energy calculations</li> <li>Monthly &amp; Yearly Power Consumption Sensors: Added monthly and yearly energy consumption sensors for long-term tracking</li> <li>Service Setup Optimization: Services are now set up only once, regardless of the number of entries</li> <li>Configuration Flow Improvements: Enhanced validation for existing connections and IP addresses, removed obsolete modules</li> <li>Generalized Reset Functions: Implemented generalized reset functions for all sensor types with extended tests</li> <li>Code Cleanup: Cleaned up const.py, YAML templates, and general code structure</li> <li>Documentation Updates: Updated documentation and created program flow diagrams</li> </ul>"},{"location":"en/changelog/#technical-changes_1","title":"Technical Changes","text":"<ul> <li>Automatic <code>lambda_wp_config.yaml</code> creation from <code>LAMBDA_WP_CONFIG_TEMPLATE</code></li> <li>Integration of config file creation into existing migration pipeline</li> <li>Enhanced error handling in <code>LambdaDataUpdateCoordinator</code></li> <li>Improved sensor attribute loading with better error recovery</li> </ul>"},{"location":"en/changelog/#130-2025-01-03","title":"[1.3.0] - 2025-01-03","text":""},{"location":"en/changelog/#new-features_4","title":"New Features","text":"<ul> <li>New 2H/4H Cycling Sensors: Added 2-hour and 4-hour cycling sensors for detailed heat pump operation monitoring</li> <li>Enhanced Cycling Offsets: Improved cycling counter offset functionality for total sensor adjustments when replacing heat pumps or resetting counters</li> <li>Robust Flank Detection: Implemented robust flank detection for heat pump operating states with improved reliability</li> <li>Dynamic Error Handling: Enhanced batch read error handling with automatic fallback to individual reads after threshold failures</li> <li>Cycling Warnings Management: Added cycling warnings suppression logic to manage entity registration issues</li> </ul>"},{"location":"en/changelog/#bug-fixes_1","title":"Bug Fixes","text":"<ul> <li>Configuration File Creation: Fixed issue where <code>lambda_wp_config.yaml</code> was not automatically created from template, ensuring proper configuration setup</li> <li>Daily Cycling Sensors: Fixed daily cycling sensors now properly displaying values and functioning correctly</li> </ul>"},{"location":"en/changelog/#improvements_4","title":"Improvements","text":"<ul> <li>Coordinator Initialization: Enhanced coordinator initialization process with improved error handling</li> <li>Debug Logging: Added comprehensive debug logs for tracking offset changes and system behavior</li> <li>Documentation: Updated documentation to reflect new functions and configuration options</li> <li>Modbus Configuration: Extended Lambda Heat Pumps integration with specific Modbus configurations</li> </ul>"},{"location":"en/changelog/#technical-changes_2","title":"Technical Changes","text":"<ul> <li>Automatic <code>lambda_wp_config.yaml</code> creation from <code>LAMBDA_WP_CONFIG_TEMPLATE</code></li> <li>Integration of config file creation into existing migration pipeline</li> <li>Enhanced error handling in <code>LambdaDataUpdateCoordinator</code></li> <li>Improved sensor attribute loading with better error recovery</li> </ul>"},{"location":"en/changelog/#122-2025-08-18","title":"[1.2.2] - 2025-08-18","text":""},{"location":"en/changelog/#breaking-changes-in-this-release-backup-required","title":"\u26a0\ufe0f BREAKING CHANGES IN THIS RELEASE - BACKUP REQUIRED","text":"<p>This release contains significant changes to the Entity Registry and sensor naming conventions. Please create a complete backup of your Home Assistant configuration before updating.</p> <p>What will change: - Automatic migration of existing sensor entities to prevent duplicates - Updated unique_id format for better consistency - Sensor filtering based on firmware compatibility</p> <p>After migration, please verify: - Sensor names and long-term data are preserved correctly - No duplicate entities exist in your system - All sensors are functioning as expected - Automations may need to be updated if they reference sensor entities that were migrated</p> <p>A Copy of the core.config_entries, core.device_registry and core.entity_registry is created before the sensors are migrated and can be copied back from the /lambda_heat_pumps folder to the hidden .storage folder to undo the changes. However, version 1.0.9 of the integration must then be reinstalled for the system to work properly.</p>"},{"location":"en/changelog/#110-2025-08-03","title":"[1.1.0] - 2025-08-03","text":""},{"location":"en/changelog/#major-changes","title":"Major Changes","text":"<ul> <li>Switch to asynchronous Modbus clients - Complete migration from synchronous to asynchronous Modbus communication for better compatibility with other integrations</li> <li>Runtime API compatibility - Automatic detection and adaptation to different pymodbus versions (1.x, 2.x, 3.x)</li> <li>Performance improvements - Non-blocking Modbus operations for better system performance</li> <li>Entity Registry Migration - Automatic migration of general and climate sensors to prevent duplicate entities with consistent unique_id format</li> </ul>"},{"location":"en/changelog/#added","title":"Added","text":"<ul> <li>Asynchronous Modbus wrapper functions in <code>modbus_utils.py</code></li> <li>Runtime API compatibility detection for pymodbus versions</li> <li>Comprehensive error handling for async Modbus operations</li> <li>Extended cycling counters with daily, yesterday and total values for all operating modes</li> </ul>"},{"location":"en/changelog/#changed_2","title":"Changed","text":"<ul> <li>All Modbus operations migrated to <code>AsyncModbusTcpClient</code></li> <li>Coordinator, config_flow, services, and climate modules updated for async operations</li> <li>Removed <code>async_add_executor_job</code> wrappers in favor of direct async calls</li> </ul>"},{"location":"en/changelog/#fixed_3","title":"Fixed","text":"<ul> <li>RuntimeWarning: \"coroutine was never awaited\" in automation setup</li> <li>Callback function implementation corrected</li> <li>Code quality improvements and linting issues resolved</li> <li>Duplicate sensor entities with \"_2\" suffix after updates</li> <li>Inconsistent unique_id format for general and climate sensors</li> <li>Sensor filtering based upon firmware settings</li> </ul>"},{"location":"en/changelog/#removed","title":"Removed","text":"<ul> <li><code>use_legacy_modbus_names</code> configuration option - This option has been removed as it became obsolete after the automatic migration of all sensors to the legacy naming scheme (<code>use_legacy=true</code>). All existing installations will automatically use the legacy naming format.</li> </ul>"},{"location":"en/changelog/#109-2024-12-19","title":"[1.0.9] - 2024-12-19","text":""},{"location":"en/changelog/#added_1","title":"Added","text":"<ul> <li>Compatibility with pymodbus &gt;= 3.6.0</li> <li>Counters for heat pump cycling by operating mode</li> <li>Extended statistics for different operating modes</li> </ul>"},{"location":"en/changelog/#changed_3","title":"Changed","text":"<ul> <li>Updated to new pymodbus API (3.x)</li> <li>Removed redundant parameters in <code>read_holding_registers</code> calls</li> <li>Synchronous <code>connect()</code> calls instead of asynchronous</li> <li>Code style improvements (flake8-compatible)</li> </ul>"},{"location":"en/changelog/#fixed_4","title":"Fixed","text":"<ul> <li>Import errors in all modules fixed</li> <li>Whitespace issues resolved</li> <li>HACS validation errors corrected</li> <li>Manifest keys properly sorted</li> </ul>"},{"location":"en/changelog/#100-initial-release","title":"[1.0.0] - Initial Release","text":""},{"location":"en/changelog/#added_2","title":"Added","text":"<ul> <li>First version of Lambda Heat Pumps Integration</li> <li>Modbus communication for heat pumps</li> <li>Cycle counter detection</li> <li>Climate entity for heat pump control</li> </ul>"},{"location":"en/changelog/#deutsche-version","title":"Deutsche Version","text":""},{"location":"en/troubleshooting/","title":"Troubleshooting","text":"<p>Troubleshooting guide (English placeholder).</p>"},{"location":"en/developer/architecture/","title":"Architecture","text":"<p>System architecture overview (English placeholder).</p>"},{"location":"en/developer/contributing/","title":"Contributing","text":"<p>How to contribute (English placeholder).</p>"},{"location":"en/developer/entity-creation/","title":"Entity Creation","text":"<p>How entities are created (English placeholder).</p>"},{"location":"en/developer/migration-system/","title":"Migration System","text":"<p>Version migration system (English placeholder).</p>"},{"location":"en/developer/modbus-registers/","title":"Modbus Registers","text":"<p>Documentation of Modbus registers (English placeholder).</p>"},{"location":"en/user/configuration/","title":"Configuration","text":"<p>Detailed configuration options (English placeholder).</p>"},{"location":"en/user/cycling-sensors/","title":"Cycling Sensors","text":"<p>Understanding cycling sensors (English placeholder).</p>"},{"location":"en/user/energy-consumption/","title":"Energy Consumption","text":"<p>Energy tracking features (English placeholder).</p>"},{"location":"en/user/features/","title":"Features","text":"<p>Overview of features (English placeholder).</p>"},{"location":"en/user/heating-curve/","title":"Heating Curve","text":"<p>Heating curve configuration guide (English placeholder).</p>"},{"location":"en/user/installation/","title":"Installation","text":"<p>Step-by-step installation guide (English placeholder).</p>"},{"location":"user/configuration/","title":"Konfiguration","text":"<p>Beschreibung der Konfiguration (Deutsch placeholder).</p>"},{"location":"user/cycling-sensors/","title":"Cycling Sensors","text":"<p>Beschreibung der Cycling-Sensoren (Deutsch placeholder).</p>"},{"location":"user/energy-consumption/","title":"Energieverbrauch","text":"<p>Energieverbrauchs-Funktionen (Deutsch placeholder).</p>"},{"location":"user/features/","title":"Funktionen","text":"<p>\u00dcbersicht \u00fcber Funktionen (Deutsch placeholder).</p>"},{"location":"user/heating-curve/","title":"Heizkurve","text":"<p>Erkl\u00e4rung zur Heizkurve (Deutsch placeholder).</p>"},{"location":"user/installation/","title":"Installation","text":"<p>Schritt-f\u00fcr-Schritt Installationsanleitung (Deutsch placeholder).</p>"},{"location":"en/de/changelog/","title":"\u00c4nderungsprotokoll","text":""},{"location":"en/de/changelog/#new-features-seit-dem-letzten-release","title":"New Features seit dem letzten Release","text":"<ul> <li>Ger\u00e4te-Hierarchie: Aufteilung in Haupt- und Sub-Ger\u00e4te f\u00fcr bessere Organisation und klarere Entity-Struktur</li> <li>Mehrsprachige Unterst\u00fctzung: Umfassende \u00dcbersetzungen in Deutsch und Englisch f\u00fcr alle Entity-Namen</li> <li>Heizkurven-Berechnung: Intelligente Heizkurven-Berechnung mit drei St\u00fctzpunkten (Kalt, Mittel, Warm) und automatischer Vorlauftemperatur-Berechnung</li> <li>Kompressor-Start Cycling Sensor: Neuer Cycling-Sensor zur Verfolgung von Kompressor-Start-Ereignissen mit total, daily, 2h, 4h und monthly Varianten</li> <li>Vorlauf-Offset Number Entity: Bidirektionale Modbus-synchronisierte Number-Entity zur einfachen Anpassung der Vorlauf-Offset-Temperatur (-10\u00b0C bis +10\u00b0C)</li> </ul>"},{"location":"en/de/changelog/#201-2025-01-xx","title":"[2.0.1] - 2025-01-XX","text":""},{"location":"en/de/changelog/#neue-funktionen","title":"Neue Funktionen","text":"<ul> <li>Vorlauf-Offset Number Entity: Hinzugef\u00fcgte bidirektionale Modbus-synchronisierte Number-Entity zur Anpassung der Vorlauf-Offset-Temperatur</li> <li>Wird automatisch f\u00fcr jeden Heizkreis (HC1, HC2, etc.) erstellt</li> <li>Bereich: -10.0\u00b0C bis +10.0\u00b0C mit 0.1\u00b0C Schrittweite</li> <li>Liest aktuellen Wert aus Modbus-Register und schreibt \u00c4nderungen direkt zur\u00fcck</li> <li>Erscheint in der Ger\u00e4te-Konfiguration neben den Heizkurven-St\u00fctzpunkten</li> <li>Modbus-Register: Register 50 (relativ zur Base-Adresse des Heizkreises)</li> </ul>"},{"location":"en/de/changelog/#behoben","title":"Behoben","text":"<ul> <li>Heizkurven-Validierung: Validierungslogik korrigiert, um beide Bedingungen unabh\u00e4ngig zu pr\u00fcfen</li> <li><code>elif</code> zu <code>if</code> ge\u00e4ndert, um sicherzustellen, dass beide Validierungspr\u00fcfungen durchgef\u00fchrt werden</li> <li>Meldet jetzt alle Validierungsprobleme, wenn mehrere Heizkurven-Werte falsch konfiguriert sind</li> <li>Zuvor wurde nur das erste Problem gemeldet, wenn alle drei Temperaturpunkte in falscher Reihenfolge waren</li> <li>Warmwasser-Temperaturgrenzen: Minimum/Maximum-Werte f\u00fcr Warmwasser auf Lambda-Standard (25/65\u00b0C) angepasst</li> </ul>"},{"location":"en/de/changelog/#geandert","title":"Ge\u00e4ndert","text":"<ul> <li>Git-Konfiguration: <code>automations.yaml</code> aus gitignore entfernt, um zu verhindern, dass sie in git getrackt wird</li> </ul>"},{"location":"en/de/changelog/#200-2025-01-xx","title":"[2.0.0] - 2025-01-XX","text":""},{"location":"en/de/changelog/#neue-funktionen_1","title":"Neue Funktionen","text":"<ul> <li>Ger\u00e4te-Hierarchie: Implementierte Aufteilung in Haupt- und Sub-Ger\u00e4te f\u00fcr bessere Organisation und klarere Entity-Struktur</li> <li>Mehrsprachige Unterst\u00fctzung: Hinzugef\u00fcgte umfassende \u00dcbersetzungen in Deutsch und Englisch f\u00fcr alle Entity-Namen, gew\u00e4hrleistet ordnungsgem\u00e4\u00dfe Lokalisierungsunterst\u00fctzung</li> <li>Heizkurven-Berechnung: Implementierte intelligente Heizkurven-Berechnung mit drei St\u00fctzpunkten (Kalt, Mittel, Warm) und automatischer Vorlauftemperatur-Berechnung basierend auf Au\u00dfentemperatur</li> <li>Kalter Punkt: Definiert die Heizkurve bei niedrigen Au\u00dfentemperaturen</li> <li>Mittlerer Punkt: Definiert die Heizkurve bei mittleren Au\u00dfentemperaturen</li> <li>Warmer Punkt: Definiert die Heizkurve bei hohen Au\u00dfentemperaturen</li> <li>Neuer Sensor: <code>heating_curve_flow_line_temperature_calc</code> berechnet automatisch die optimale Vorlauftemperatur basierend auf aktueller Au\u00dfentemperatur und den konfigurierten St\u00fctzpunkten</li> <li>Kompressor-Start Cycling Sensor: Hinzugef\u00fcgter neuer Cycling-Sensor zur Verfolgung von Kompressor-Start-Ereignissen</li> <li>Total-Sensor: <code>compressor_start_cycling_total</code> - Verfolgt Gesamtanzahl der Kompressor-Starts seit Installation</li> <li>Daily-Sensor: <code>compressor_start_cycling_daily</code> - Verfolgt t\u00e4gliche Kompressor-Starts (Reset um Mitternacht)</li> <li>2H-Sensor: <code>compressor_start_cycling_2h</code> - Verfolgt 2-Stunden Kompressor-Starts (Reset alle 2 Stunden)</li> <li>4H-Sensor: <code>compressor_start_cycling_4h</code> - Verfolgt 4-Stunden Kompressor-Starts (Reset alle 4 Stunden)</li> <li>Monthly-Sensor: <code>compressor_start_cycling_monthly</code> - Verfolgt monatliche Kompressor-Starts (Reset am 1. des Monats)</li> <li>Flankenerkennung: Verwendet HP_STATE Register (1002) statt HP_OPERATING_STATE, erkennt \"START COMPRESSOR\" Status (Wert 5)</li> </ul>"},{"location":"en/de/changelog/#verbesserungen","title":"Verbesserungen","text":"<ul> <li>Verbesserte Entity-Namensgebung mit ordnungsgem\u00e4\u00dfen Ger\u00e4te- und Sub-Ger\u00e4te-Pr\u00e4fixen</li> <li>Verbesserte \u00dcbersetzungs-Ladung und -Anwendung f\u00fcr alle Entity-Typen</li> <li>Bessere Integration mit Home Assistants \u00dcbersetzungssystem</li> <li>Write-Interval-Optimierung: Reduziertes Write-Interval von 41 Sekunden auf 9 Sekunden f\u00fcr schnellere Reaktionszeiten</li> <li>Externe Verbrauchssensor-Validierung: Verbesserte Validierung externer Verbrauchssensoren mit Entity Registry Fallback-Pr\u00fcfung, erm\u00f6glicht Sensoren auch dann zu akzeptieren, wenn sie beim Start noch nicht im State verf\u00fcgbar sind. Runtime Retry-Mechanismus behandelt tempor\u00e4re Nicht-Verf\u00fcgbarkeit elegant.</li> </ul>"},{"location":"en/de/changelog/#143-2025-11-04","title":"[1.4.3] - 2025-11-04","text":""},{"location":"en/de/changelog/#fehlerbehebungen","title":"Fehlerbehebungen","text":"<ul> <li>ISSUE 39  Modebus batch Reads erkennen Fehler falsch: Schnelleres Umsschalten zu individual reads, damit korrekte Sensoren wieder zur Verf\u00fcgung stehen</li> <li>ISSUE 22 Zus\u00e4tzliches logging eingef\u00fcgt, um Fehler zu identifizieren</li> <li>Einheit des Sensors volume_flow_heat_sink korregiert zu l/h</li> </ul>"},{"location":"en/de/changelog/#142-2025-10-24","title":"[1.4.2] - 2025-10-24","text":""},{"location":"en/de/changelog/#fehlerbehebungen_1","title":"Fehlerbehebungen","text":"<ul> <li>Test-Reparaturen: Behoben fehlgeschlagene Tests durch Ersetzen von Mock-Objekten mit ordnungsgem\u00e4\u00dfen Test-Implementierungen</li> <li>Verbesserte Test-Zuverl\u00e4ssigkeit: Reduzierte false-positive Test-Fehler und verbesserte Test-Stabilit\u00e4t</li> <li>Integration-Reload-Fehler: Behoben Fehler beim Neuladen der Integration</li> <li>Konfigurations-Fix: Behoben <code>default_config</code> in <code>load_lambda_config()</code> um alle erforderlichen Keys einzubinden (<code>energy_consumption_sensors</code>, <code>energy_consumption_offsets</code>, <code>modbus</code>)</li> </ul>"},{"location":"en/de/changelog/#geandert_1","title":"Ge\u00e4ndert","text":"<ul> <li>Register-Order-Werte: Konfigurationswerte von <code>\"big\"</code>/<code>\"little\"</code> auf <code>\"high_first\"</code>/<code>\"low_first\"</code> ge\u00e4ndert f\u00fcr bessere Klarheit</li> <li>Alte Werte (<code>big</code>/<code>little</code>) werden weiterhin mit automatischer Konvertierung unterst\u00fctzt</li> <li>Neuer Standard ist <code>\"high_first\"</code> (ersetzt <code>\"big\"</code>)</li> <li>Verbesserte Dokumentation und Kommentare zur Kl\u00e4rung von Register-Reihenfolge vs. Byte-Endianness</li> </ul>"},{"location":"en/de/changelog/#verbesserungen_1","title":"Verbesserungen","text":"<ul> <li>Test-Optimierung: 57 Tests erfolgreich repariert und optimiert</li> <li>Gitignore-Korrektur: Korrigiert .gitignore f\u00fcr ordnungsgem\u00e4\u00dfe Einbindung aller docs-Unterverzeichnisse</li> <li>Service-Dokumentation: Erstellt umfassende Dokumentation f\u00fcr zuk\u00fcnftige Service-Optimierungen</li> <li>Service-Scheduler-Optimierung: Implementierte intelligente Service-Scheduler, die nur aktiviert werden, wenn PV-Surplus oder Raumthermostat-Steuerungsoptionen aktiviert sind, wodurch der Ressourcenverbrauch erheblich reduziert wird, wenn Services nicht ben\u00f6tigt werden</li> </ul>"},{"location":"en/en/","title":"Lambda Heat Pumps Integration","text":"<p>Welcome to the documentation (English).</p> <p>This is the English version of the user and developer documentation.</p>"},{"location":"en/en/changelog/","title":"Changelog","text":""},{"location":"en/en/changelog/#english-version","title":"English Version","text":""},{"location":"en/en/changelog/#new-features-since-last-release","title":"New Features since last release","text":"<ul> <li>Device Hierarchy: Separation into main devices and sub-devices for better organization and clearer entity structure</li> <li>Multilingual Support: Comprehensive translations in German and English for all entity names</li> <li>Heating Curve Calculation: Intelligent heating curve calculation with three support points (cold, mid, warm) and automatic flow temperature calculation</li> <li>Compressor Start Cycling Sensor: New cycling sensor for tracking compressor start events with total, daily, 2h, 4h, and monthly variants</li> <li>Flow Line Offset Number Entity: Bidirectional Modbus-synchronized Number entity for easy adjustment of flow line offset temperature (-10\u00b0C to +10\u00b0C)</li> </ul>"},{"location":"en/en/changelog/#201-2025-01-xx","title":"[2.0.1] - 2025-01-XX","text":""},{"location":"en/en/changelog/#new-features","title":"New Features","text":"<ul> <li>Flow Line Offset Number Entity: Added bidirectional Modbus-synchronized Number entity for flow line offset temperature adjustment</li> <li>Automatically created for each heating circuit (HC1, HC2, etc.)</li> <li>Range: -10.0\u00b0C to +10.0\u00b0C with 0.1\u00b0C step size</li> <li>Reads current value from Modbus register and writes changes directly back</li> <li>Appears in device configuration alongside heating curve support points</li> <li>Modbus Register: Register 50 (relative to heating circuit base address)</li> </ul>"},{"location":"en/en/changelog/#fixed","title":"Fixed","text":"<ul> <li>Heating Curve Validation: Fixed validation logic to check both conditions independently</li> <li>Changed <code>elif</code> to <code>if</code> to ensure both validation checks are performed</li> <li>Now reports all validation problems when multiple heating curve values are misconfigured</li> <li>Previously only the first issue was reported when all three temperature points were in wrong order</li> <li>Hot Water Temperature Limits: Adjusted minimum/maximum values for hot water to Lambda standard (25/65\u00b0C)</li> </ul>"},{"location":"en/en/changelog/#changed","title":"Changed","text":"<ul> <li>Git Configuration: Removed <code>automations.yaml</code> from gitignore to prevent it from being tracked in git</li> </ul>"},{"location":"en/en/changelog/#200-2025-01-xx","title":"[2.0.0] - 2025-01-XX","text":""},{"location":"en/en/changelog/#new-features_1","title":"New Features","text":"<ul> <li>Device Hierarchy: Implemented separation into main devices and sub-devices for better organization and clearer entity structure</li> <li>Multilingual Support: Added comprehensive translations in German and English for all entity names, ensuring proper localization support</li> <li>Heating Curve Calculation: Implemented intelligent heating curve calculation with three support points (cold, mid, warm) and automatic flow temperature calculation based on outside temperature</li> <li>Cold Point: Defines the heating curve at low outside temperatures</li> <li>Mid Point: Defines the heating curve at medium outside temperatures</li> <li>Warm Point: Defines the heating curve at high outside temperatures</li> <li>New Sensor: <code>heating_curve_flow_line_temperature_calc</code> automatically calculates the optimal flow temperature based on current outside temperature and the configured support points</li> <li>Compressor Start Cycling Sensor: Added new cycling sensor for tracking compressor start events</li> <li>Total Sensor: <code>compressor_start_cycling_total</code> - Tracks total compressor starts since installation</li> <li>Daily Sensor: <code>compressor_start_cycling_daily</code> - Tracks daily compressor starts (resets at midnight)</li> <li>2H Sensor: <code>compressor_start_cycling_2h</code> - Tracks 2-hour compressor starts (resets every 2 hours)</li> <li>4H Sensor: <code>compressor_start_cycling_4h</code> - Tracks 4-hour compressor starts (resets every 4 hours)</li> <li>Monthly Sensor: <code>compressor_start_cycling_monthly</code> - Tracks monthly compressor starts (resets on 1st of month)</li> <li>Flank Detection: Uses HP_STATE register (1002) instead of HP_OPERATING_STATE, detecting \"START COMPRESSOR\" state (value 5)</li> </ul>"},{"location":"en/en/changelog/#improvements","title":"Improvements","text":"<ul> <li>Enhanced entity naming with proper device and sub-device prefixes</li> <li>Improved translation loading and application for all entity types</li> <li>Better integration with Home Assistant's translation system</li> <li>Write Interval Optimization: Reduced write interval from 41 seconds to 9 seconds for faster response times</li> <li>External Energy Sensor Validation: Enhanced validation of external energy consumption sensors with Entity Registry fallback check, allowing sensors to be accepted even when not yet available in state during startup. Runtime retry mechanism handles temporary unavailability gracefully.</li> </ul>"},{"location":"en/en/changelog/#143-2025-11-04","title":"[1.4.3] - 2025-11-04","text":""},{"location":"en/en/changelog/#fixed_1","title":"Fixed","text":"<ul> <li>ISSUE 39 Modbus batch reads incorrectly detect errors: Faster switching to individual reads so that correct sensors become available again</li> <li>ISSUE 22 Additional logging added to identify errors</li> <li>Unit of sensor volume_flow_heat_sink corrected to l/h</li> </ul>"},{"location":"en/en/changelog/#142-2025-10-24","title":"[1.4.2] - 2025-10-24","text":""},{"location":"en/en/changelog/#fixed_2","title":"Fixed","text":"<ul> <li>Fixed failing tests by replacing Mock objects with proper test implementations</li> <li>Improved test reliability and reduced false failures</li> <li>Fixed integration reload errors</li> <li>Fixed <code>default_config</code> in <code>load_lambda_config()</code> to include all required keys (<code>energy_consumption_sensors</code>, <code>energy_consumption_offsets</code>, <code>modbus</code>)</li> </ul>"},{"location":"en/en/changelog/#changed_1","title":"Changed","text":"<ul> <li>Register Order Values: Changed configuration values from <code>\"big\"</code>/<code>\"little\"</code> to <code>\"high_first\"</code>/<code>\"low_first\"</code> for better clarity</li> <li>Old values (<code>big</code>/<code>little</code>) are still supported with automatic conversion</li> <li>New default is <code>\"high_first\"</code> (replaces <code>\"big\"</code>)</li> <li>Improved documentation and comments to clarify register order vs. byte endianness</li> </ul>"},{"location":"en/en/changelog/#improvements_1","title":"Improvements","text":"<ul> <li>Test optimization: 57 tests successfully repaired and optimized</li> <li>Gitignore correction: Fixed .gitignore for proper inclusion of all docs subdirectories</li> <li>Service documentation: Created comprehensive documentation for future service optimizations</li> <li>Service Scheduler Optimization: Implemented intelligent service scheduler that only activates when PV-Surplus or Room Thermostat control options are enabled, significantly reducing resource usage when services are not needed</li> </ul>"},{"location":"en/en/changelog/#141-2025-10-21","title":"[1.4.1] - 2025-10-21","text":""},{"location":"en/en/changelog/#new-features_2","title":"New Features","text":"<ul> <li>Massive Performance Improvements: Dramatically improved integration startup and update performance</li> <li>Startup Time: Reduced by ~72% (from ~7.3s to ~2.05s) through intelligent background auto-detection</li> <li>Update Cycles: Reduced by ~50% (from &gt;30s to &lt;15s) through global register deduplication</li> <li>Modbus Traffic: Reduced by ~80% through elimination of duplicate register reads</li> <li>Intelligent Auto-Detection: Implemented background auto-detection for existing configurations, eliminating startup delays while maintaining hardware change detection</li> <li>Global Register Cache: Added comprehensive register deduplication system that eliminates duplicate Modbus reads across all modules (HP, Boiler, Buffer, Solar, HC)</li> <li>Optimized Batch Reading: Improved Modbus batch reading with larger consecutive register ranges and reduced individual read thresholds</li> <li>Parallel Template Setup: Template sensors now load in background tasks, preventing startup blocking</li> <li>Persist I/O Optimization: Added debouncing and dirty-flag mechanisms to reduce unnecessary file writes</li> <li>Connection Health Optimization: Reduced connection timeout from 5s to 2s for faster failure detection</li> </ul>"},{"location":"en/en/changelog/#improvements_2","title":"Improvements","text":"<ul> <li>Enhanced Energy Tracking: Improved energy consumption tracking with automatic unit conversion (Wh/kWh/MWh)</li> <li>Robust Sensor Handling: Added retry mechanism for sensor availability during startup</li> <li>Comprehensive Logging: Added detailed logging for sensor change detection and energy calculations</li> <li>Monthly &amp; Yearly Power Consumption Sensors: Added monthly and yearly energy consumption sensors for long-term tracking</li> <li>Service Setup Optimization: Services are now set up only once, regardless of the number of entries</li> <li>Configuration Flow Improvements: Enhanced validation for existing connections and IP addresses, removed obsolete modules</li> <li>Generalized Reset Functions: Implemented generalized reset functions for all sensor types with extended tests</li> <li>Code Cleanup: Cleaned up const.py, YAML templates, and general code structure</li> <li>Documentation Updates: Updated documentation and created program flow diagrams</li> </ul>"},{"location":"en/en/changelog/#technical-changes","title":"Technical Changes","text":"<ul> <li>Automatic <code>lambda_wp_config.yaml</code> creation from <code>LAMBDA_WP_CONFIG_TEMPLATE</code></li> <li>Integration of config file creation into existing migration pipeline</li> <li>Enhanced error handling in <code>LambdaDataUpdateCoordinator</code></li> <li>Improved sensor attribute loading with better error recovery</li> </ul>"},{"location":"en/en/changelog/#140-2025-10-05","title":"[1.4.0] - 2025-10-05","text":""},{"location":"en/en/changelog/#new-features_3","title":"New Features","text":"<ul> <li>Energy Consumption Sensors by Operating Mode: Added configurable energy consumption sensors that track energy usage by operating mode (heating, hot water, cooling, defrost) with customizable source sensors (Issue #21)</li> <li>Register Order Configuration: Added register order configuration in <code>lambda_wp_config.yaml</code> for proper 32-bit value interpretation from multiple 16-bit registers (Issue #22)</li> <li>Sensor Change Detection: Implemented automatic detection of energy sensor changes with intelligent handling of sensor value transitions to prevent incorrect energy consumption calculations</li> </ul>"},{"location":"en/en/changelog/#bug-fixes","title":"Bug Fixes","text":"<ul> <li>Register Order Fix: Fixed register order issues for 32-bit values with initial quick fix approach (Issue #22)</li> <li>Daily Sensor Reset Automation: Fixed errors in automation for resetting daily sensors (Issue #29)</li> <li>Auto-Detection: Fixed auto-detection not recognizing existing configurations (IP/Port/SlaveId)</li> <li>DCHP Discovery: Fixed DCHP discovery error messages</li> <li>HASS Validation: Fixed Home Assistant validation errors</li> <li>Daily Reset Function: Repaired daily reset function for sensors</li> </ul>"},{"location":"en/en/changelog/#improvements_3","title":"Improvements","text":"<ul> <li>Enhanced Energy Tracking: Improved energy consumption tracking with automatic unit conversion (Wh/kWh/MWh)</li> <li>Robust Sensor Handling: Added retry mechanism for sensor availability during startup</li> <li>Comprehensive Logging: Added detailed logging for sensor change detection and energy calculations</li> <li>Monthly &amp; Yearly Power Consumption Sensors: Added monthly and yearly energy consumption sensors for long-term tracking</li> <li>Service Setup Optimization: Services are now set up only once, regardless of the number of entries</li> <li>Configuration Flow Improvements: Enhanced validation for existing connections and IP addresses, removed obsolete modules</li> <li>Generalized Reset Functions: Implemented generalized reset functions for all sensor types with extended tests</li> <li>Code Cleanup: Cleaned up const.py, YAML templates, and general code structure</li> <li>Documentation Updates: Updated documentation and created program flow diagrams</li> </ul>"},{"location":"en/en/changelog/#technical-changes_1","title":"Technical Changes","text":"<ul> <li>Automatic <code>lambda_wp_config.yaml</code> creation from <code>LAMBDA_WP_CONFIG_TEMPLATE</code></li> <li>Integration of config file creation into existing migration pipeline</li> <li>Enhanced error handling in <code>LambdaDataUpdateCoordinator</code></li> <li>Improved sensor attribute loading with better error recovery</li> </ul>"},{"location":"en/en/changelog/#130-2025-01-03","title":"[1.3.0] - 2025-01-03","text":""},{"location":"en/en/changelog/#new-features_4","title":"New Features","text":"<ul> <li>New 2H/4H Cycling Sensors: Added 2-hour and 4-hour cycling sensors for detailed heat pump operation monitoring</li> <li>Enhanced Cycling Offsets: Improved cycling counter offset functionality for total sensor adjustments when replacing heat pumps or resetting counters</li> <li>Robust Flank Detection: Implemented robust flank detection for heat pump operating states with improved reliability</li> <li>Dynamic Error Handling: Enhanced batch read error handling with automatic fallback to individual reads after threshold failures</li> <li>Cycling Warnings Management: Added cycling warnings suppression logic to manage entity registration issues</li> </ul>"},{"location":"en/en/changelog/#bug-fixes_1","title":"Bug Fixes","text":"<ul> <li>Configuration File Creation: Fixed issue where <code>lambda_wp_config.yaml</code> was not automatically created from template, ensuring proper configuration setup</li> <li>Daily Cycling Sensors: Fixed daily cycling sensors now properly displaying values and functioning correctly</li> </ul>"},{"location":"en/en/changelog/#improvements_4","title":"Improvements","text":"<ul> <li>Coordinator Initialization: Enhanced coordinator initialization process with improved error handling</li> <li>Debug Logging: Added comprehensive debug logs for tracking offset changes and system behavior</li> <li>Documentation: Updated documentation to reflect new functions and configuration options</li> <li>Modbus Configuration: Extended Lambda Heat Pumps integration with specific Modbus configurations</li> </ul>"},{"location":"en/en/changelog/#technical-changes_2","title":"Technical Changes","text":"<ul> <li>Automatic <code>lambda_wp_config.yaml</code> creation from <code>LAMBDA_WP_CONFIG_TEMPLATE</code></li> <li>Integration of config file creation into existing migration pipeline</li> <li>Enhanced error handling in <code>LambdaDataUpdateCoordinator</code></li> <li>Improved sensor attribute loading with better error recovery</li> </ul>"},{"location":"en/en/changelog/#122-2025-08-18","title":"[1.2.2] - 2025-08-18","text":""},{"location":"en/en/changelog/#breaking-changes-in-this-release-backup-required","title":"\u26a0\ufe0f BREAKING CHANGES IN THIS RELEASE - BACKUP REQUIRED","text":"<p>This release contains significant changes to the Entity Registry and sensor naming conventions. Please create a complete backup of your Home Assistant configuration before updating.</p> <p>What will change: - Automatic migration of existing sensor entities to prevent duplicates - Updated unique_id format for better consistency - Sensor filtering based on firmware compatibility</p> <p>After migration, please verify: - Sensor names and long-term data are preserved correctly - No duplicate entities exist in your system - All sensors are functioning as expected - Automations may need to be updated if they reference sensor entities that were migrated</p> <p>A Copy of the core.config_entries, core.device_registry and core.entity_registry is created before the sensors are migrated and can be copied back from the /lambda_heat_pumps folder to the hidden .storage folder to undo the changes. However, version 1.0.9 of the integration must then be reinstalled for the system to work properly.</p>"},{"location":"en/en/changelog/#110-2025-08-03","title":"[1.1.0] - 2025-08-03","text":""},{"location":"en/en/changelog/#major-changes","title":"Major Changes","text":"<ul> <li>Switch to asynchronous Modbus clients - Complete migration from synchronous to asynchronous Modbus communication for better compatibility with other integrations</li> <li>Runtime API compatibility - Automatic detection and adaptation to different pymodbus versions (1.x, 2.x, 3.x)</li> <li>Performance improvements - Non-blocking Modbus operations for better system performance</li> <li>Entity Registry Migration - Automatic migration of general and climate sensors to prevent duplicate entities with consistent unique_id format</li> </ul>"},{"location":"en/en/changelog/#added","title":"Added","text":"<ul> <li>Asynchronous Modbus wrapper functions in <code>modbus_utils.py</code></li> <li>Runtime API compatibility detection for pymodbus versions</li> <li>Comprehensive error handling for async Modbus operations</li> <li>Extended cycling counters with daily, yesterday and total values for all operating modes</li> </ul>"},{"location":"en/en/changelog/#changed_2","title":"Changed","text":"<ul> <li>All Modbus operations migrated to <code>AsyncModbusTcpClient</code></li> <li>Coordinator, config_flow, services, and climate modules updated for async operations</li> <li>Removed <code>async_add_executor_job</code> wrappers in favor of direct async calls</li> </ul>"},{"location":"en/en/changelog/#fixed_3","title":"Fixed","text":"<ul> <li>RuntimeWarning: \"coroutine was never awaited\" in automation setup</li> <li>Callback function implementation corrected</li> <li>Code quality improvements and linting issues resolved</li> <li>Duplicate sensor entities with \"_2\" suffix after updates</li> <li>Inconsistent unique_id format for general and climate sensors</li> <li>Sensor filtering based upon firmware settings</li> </ul>"},{"location":"en/en/changelog/#removed","title":"Removed","text":"<ul> <li><code>use_legacy_modbus_names</code> configuration option - This option has been removed as it became obsolete after the automatic migration of all sensors to the legacy naming scheme (<code>use_legacy=true</code>). All existing installations will automatically use the legacy naming format.</li> </ul>"},{"location":"en/en/changelog/#109-2024-12-19","title":"[1.0.9] - 2024-12-19","text":""},{"location":"en/en/changelog/#added_1","title":"Added","text":"<ul> <li>Compatibility with pymodbus &gt;= 3.6.0</li> <li>Counters for heat pump cycling by operating mode</li> <li>Extended statistics for different operating modes</li> </ul>"},{"location":"en/en/changelog/#changed_3","title":"Changed","text":"<ul> <li>Updated to new pymodbus API (3.x)</li> <li>Removed redundant parameters in <code>read_holding_registers</code> calls</li> <li>Synchronous <code>connect()</code> calls instead of asynchronous</li> <li>Code style improvements (flake8-compatible)</li> </ul>"},{"location":"en/en/changelog/#fixed_4","title":"Fixed","text":"<ul> <li>Import errors in all modules fixed</li> <li>Whitespace issues resolved</li> <li>HACS validation errors corrected</li> <li>Manifest keys properly sorted</li> </ul>"},{"location":"en/en/changelog/#100-initial-release","title":"[1.0.0] - Initial Release","text":""},{"location":"en/en/changelog/#added_2","title":"Added","text":"<ul> <li>First version of Lambda Heat Pumps Integration</li> <li>Modbus communication for heat pumps</li> <li>Cycle counter detection</li> <li>Climate entity for heat pump control</li> </ul>"},{"location":"en/en/changelog/#deutsche-version","title":"Deutsche Version","text":""},{"location":"en/en/troubleshooting/","title":"Troubleshooting","text":"<p>Troubleshooting guide (English placeholder).</p>"},{"location":"en/en/developer/architecture/","title":"Architecture","text":"<p>System architecture overview (English placeholder).</p>"},{"location":"en/en/developer/contributing/","title":"Contributing","text":"<p>How to contribute (English placeholder).</p>"},{"location":"en/en/developer/entity-creation/","title":"Entity Creation","text":"<p>How entities are created (English placeholder).</p>"},{"location":"en/en/developer/migration-system/","title":"Migration System","text":"<p>Version migration system (English placeholder).</p>"},{"location":"en/en/developer/modbus-registers/","title":"Modbus Registers","text":"<p>Documentation of Modbus registers (English placeholder).</p>"},{"location":"en/en/user/configuration/","title":"Configuration","text":"<p>Detailed configuration options (English placeholder).</p>"},{"location":"en/en/user/cycling-sensors/","title":"Cycling Sensors","text":"<p>Understanding cycling sensors (English placeholder).</p>"},{"location":"en/en/user/energy-consumption/","title":"Energy Consumption","text":"<p>Energy tracking features (English placeholder).</p>"},{"location":"en/en/user/features/","title":"Features","text":"<p>Overview of features (English placeholder).</p>"},{"location":"en/en/user/heating-curve/","title":"Heating Curve","text":"<p>Heating curve configuration guide (English placeholder).</p>"},{"location":"en/en/user/installation/","title":"Installation","text":"<p>Step-by-step installation guide (English placeholder).</p>"}]}